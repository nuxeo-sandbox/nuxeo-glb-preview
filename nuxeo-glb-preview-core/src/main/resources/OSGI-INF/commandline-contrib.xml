<?xml version="1.0"?>
<component name="org.nuxeo.labs.glb.cli">

    <require>org.nuxeo.ecm.platform.commandline.executor.service.defaultContrib</require>

    <extension target="org.nuxeo.ecm.platform.commandline.executor.service.CommandLineExecutorComponent"
               point="command">
        <command name="glb2png" enabled="true">
            <commandLine>screenshot-glb</commandLine>
            <winCommand>screenshot-glb.cmd</winCommand>
            <testParameterString>--version</testParameterString>
            <parameterString><![CDATA[-i #{sourceFilePath} -o #{targetFilePath} -v -t 60000 -m "environment-image=neutral&shadow-intensity=0&shadow-softness=0&exposure=0.92"]]></parameterString>
            <winParameterString><![CDATA[-i #{sourceFilePath} -o #{targetFilePath} -v -t 60000 -m '"environment-image=neutral&shadow-intensity=0&shadow-softness=0&exposure=0.92"']]></winParameterString>
            <installationDirective>You need to install node.js and https://github.com/Shopify/screenshot-glb</installationDirective>
        </command>
    </extension>
</component>